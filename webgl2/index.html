<html>
<head>

<link rel="stylesheet" type="text/css" href="main.css">

<script type='text/javascript' src='main.js'></script>

<script>
 
window.onload = function() {

  var r = new RENDERER();

  r.initGL('canvas');
  r.linkShaders('vs1', 'fs1');


  // unit square
  var vertices = new Float32Array([
       1.0,  1.0,  0.0,
      -1.0,  1.0,  0.0,
       1.0, -1.0,  0.0,
      -1.0, -1.0,  0.0
  ]);  

  buffer = r.createArrayBuffer(vertices);

  // simple texture
  var gl = r._gl;
  var texture = gl.createTexture();
  gl.bindTexture(gl.TEXTURE_3D, texture);

  gl.texParameteri(gl.TEXTURE_3D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);
  gl.texParameteri(gl.TEXTURE_3D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);


  draw(r);

};

function draw(r) {

  r.draw();

  r.attribute(0, buffer, 3);
  r._gl.drawArrays(r._gl.TRIANGLE_STRIP, 0, 4);

};

</script>

<!-- SHADERS -->
<script id="fs1" type="x-shader/x-fragment">


void main() {

  gl_FragData[0] = vec4(1.,0.,0.,1.);

}
</script>
<script id="vs1" type="x-shader/x-vertex">


attribute vec3 aPosition;
varying vec3 vPosition;

void main() {

  vPosition = aPosition;

  gl_Position = vec4(aPosition,1.);

} 
</script>

</head>
<body>
  <canvas id='canvas' style='width:100%;height:100%'></canvas>
</body>
</html>

